{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2 class="page-title">Welcome, {{ session.username }} ðŸ‘‹</h2>

<div class="grid">
  <div class="card stat">
    <h4>Total Spent</h4>
    <p class="big">â‚¹ {{ total }}</p>
  </div>

  <div class="card stat">
    <h4>Category Snapshot</h4>
    <ul class="small-list">
      {% for k,v in cat_totals.items() %}
        <li><strong>{{ k }}</strong> â€” â‚¹ {{ v|round(2) }}</li>
      {% else %}
        <li>No categories yet</li>
      {% endfor %}
    </ul>
  </div>

  <div class="card">
    <h4>Recent Expenses</h4>
    <ul class="recent-list">
      {% for r in recent %}
        <li>{{ r.description }} â€” â‚¹{{ r.amount }} <span class="muted">({{ r.category }})</span></li>
      {% else %}
        <li>No recent expenses</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
